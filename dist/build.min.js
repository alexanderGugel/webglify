!function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0](function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b){(function(){var a;b.exports=a=function(a,b){var c,d,e;return e=null!=b?b:new THREE.MeshBasicMaterial({color:a.options.backgroundColor,side:THREE.DoubleSide}),d=new THREE.PlaneGeometry(a.options.width,a.options.height,1,1),c=new THREE.Mesh(d,e),c.position.y=a.options.y,c.position.x=a.options.x,c.position.z=a.options.z,c}}).call(this)},{}],2:[function(a,b){(function(){var a,c,d,e;a=16,c=function(b){var c,d,e,f,g,h,i,j,k,l;for(g={},k=0,l=b.length;l>k;k++)d=b[k],null==g[d]&&(c=document.createElement("canvas"),e=c.getContext("2d"),e.font=2*a+"px monospace",c.width=e.measureText(d).width+10,c.height=2*a+10,e.textAlign="center",e.textBaseline="middle",e.font=2*a+"px monospace",e.clearRect(0,0,c.width,c.height),e.fillText(d,c.width/2,c.height/2),j=new THREE.Texture(c),f=new THREE.MeshBasicMaterial({map:j,side:THREE.DoubleSide}),i=new THREE.PlaneGeometry(c.width/2,c.height/2),h=new THREE.Mesh(i,f),j.needsUpdate=!0,g[d]=h);return g},d=function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q;for(h=new THREE.Object3D,j=new THREE.Object3D,l=0,m=0,o=b.length;o>m;m++)if(f=b[m],Math.abs(e>l)){for(k=0,i=new THREE.Mesh(c[f].geometry,c[f].material),q=j.children,n=0,p=q.length;p>n;n++)g=q[n],k+=g.geometry.width+5;i.position.x=k,j.position.x=-k/2,k>d?(j.add(i),k=0,l-=1.5*a,j.position.y=l,h.add(j),j=new THREE.Object3D):(i.position.x=k,j.position.x=-k/2,j.add(i))}return l-=1.5*a,j.position.y=l,h.add(j),h.position.y=Math.abs(l/2),h},b.exports=e=function(a){var b,e;return b=c(a.tag),e=d(a.tag,b,a.options.width,a.options.height),e.translateZ(a.options.z),e.translateX(a.options.x),e.translateY(a.options.y),e}}).call(this)},{}],3:[function(a,b){(function(){var a;b.exports=a=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;for(null==(e=b.options).x&&(e.x=0),null==(f=b.options).y&&(f.y=0),b.options.z=b.depth,null==(p=b.options).height&&(p.height=300),null==(q=b.options).width&&(q.width=200),null==(r=b.options).backgroundColor&&(r.backgroundColor="#FFFFFF"),null==(s=b.options).childType&&(s.childType="vertical"),z=b.children,d=x=0,y=z.length;y>x;d=++x){switch(c=z[d],("horizontal"===b.options.childType||"vertical"===b.options.childType)&&(c.options.type="block"),null==(t=c.options).type&&(t.type=b.options.childType),b.options.childType){case"horizontal":null==(u=c.options).x&&(u.x=b.options.width*(d/b.children.length)-(b.options.width/2-b.options.width/b.children.length/2)),null==(v=c.options).y&&(v.y=b.options.y),null==(w=c.options).width&&(w.width=b.options.width/b.children.length),null==(g=c.options).height&&(g.height=b.options.height);break;case"vertical":null==(h=c.options).y&&(h.y=b.options.height*(d/b.children.length)-(b.options.height/2-b.options.height/b.children.length/2)),null==(i=c.options).x&&(i.x=b.options.x),null==(j=c.options).height&&(j.height=b.options.height/b.children.length),null==(k=c.options).width&&(k.width=b.options.width);break;case"image":case"text":null==(l=c.options).x&&(l.x=b.options.x),null==(m=c.options).y&&(m.y=b.options.y),null==(n=c.options).width&&(n.width=b.options.width),null==(o=c.options).height&&(o.height=b.options.height);break;case"image":c.tag.slice(0,!0)&&(c.tag="http://".concat(c.tag))}a(c)}return b}}).call(this)},{}],4:[function(a,b){(function(){var a,c,d,e;b.exports=d=function(b){var d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(j=b.split("\n"),k=[],q=0,t=j.length;t>q;q++)i=j[q],f=i.indexOf(/\S/.exec(i)),p=i.slice(0,f),-1!==i.indexOf(":")?(o=i.slice(f,i.indexOf(":")),m=i.slice(i.indexOf(":")+1).replace(/\s/g,""),m=m.split(","),m=function(){var a,b,c;for(c=[],a=0,b=m.length;b>a;a++)l=m[a],c.push(l.split(":"));return c}(),k.push([p.length,o,m])):(d=i.slice(f),k.push([p.length,d,[]]));for(g=r=1,v=k.length-1;v>=1?v>=r:r>=v;g=v>=1?++r:--r)0===k[g][1].length&&0===k[g-1][2].length&&k[g][0]===k[g-1][0]&&(k[g-1][2]=k[g-1][2].concat(k[g][2]));for(n=[],s=0,u=k.length;u>s;s++)h=k[s],0!==h[1].length&&n.push(c(h));return a(e(n))},c=function(a){var b,c,d,e,f;for(b={depth:a[0],tag:a[1],options:{},children:[]},f=a[2],d=0,e=f.length;e>d;d++)c=f[d],b.options[c[0]]=c[1];return b},e=function(a){var b,c,d;return d=[],b=function(a,c){var e,f,g,h,i,j,k,l;for(g=h=0,j=a.length;j>h;g=++h)for(e=a[g],f=i=k=a.length-1,l=g+1;i>=l;f=i+=-1)if(e.depth===a[f].depth)return b(a.slice(f),c+f),b(a.slice(0,f),c),!1;return d[c]=a},c=function(a){var b,c,d,e;for(c=[],d=0,e=a.length;e>d;d++)b=a[d],null!=b&&c.push(b);return c},b(a,0),d=c(d),console.log(d),d},a=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(l=0,p=a.length;p>l;l++)for(k=a[l],e=m=s=k.length-1;m>=1;e=m+=-1)b=k[e],g=k[e-1],g.children.push(b);for(c=n=t=a.length-1;n>=0;c=n+=-1)for(k=a[c],f=k[0],e=o=u=c-1;o>=0;e=o+=-1)if(0!==c&&(h=a[e],j=h[0],j.depth<f.depth)){for(d=r=0,q=h.length;q>r;d=++r)if(i=h[d],i.depth===f.depth){h[d-1].children.splice(1,0,f);break}break}return a[0][0]}}).call(this)},{}],5:[function(a,b){(function(){var c,d,e,f;d=a("./containerModule.coffee"),c=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(d="",k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=new Uint8Array(a),e=g.byteLength,f=e%3,m=e-f,l=n=0;m>=n;l=n+=3)i=g[l]<<16|g[l+1]<<8|g[l+2],b=(16515072&i)>>18,c=(258048&i)>>12,h=(4032&i)>>6,j=63&i,d+=k[b]+k[c]+k[h]+k[j];return 1===f?(i=g(m),b=(252&i)>>2,c=(3&i)<<4,d+=k[b]+k[c]+"=="):1===f&&(i=g[m]<<8|g[m+1],b=(16128&i)>>8,c=(1008&i)>>4,h=(15&i)<<2,d+=k[b]+k[c]+k[h]+"="),"data:image/jpeg;base64,"+d},e=function(a){var b;return b=new XMLHttpRequest,b.responseType="arraybuffer",b.open("GET",a,!0),b.onreadystatechange=function(){var a;return 4===b.readyState?(a=new Image,a.onload=function(){var b,c;return c=new THREE.Texture(a),c.needsUpdate=!0,b=new THREE.MeshLambertMaterial({map:c}),c.needsUpdate=!0,b},a.src=c(b.response)):void 0},b.send()},b.exports=f=function(a){return d(a,e(a.tag))}}).call(this)},{"./containerModule.coffee":1}],6:[function(a,b){(function(){var c,d,e,f;f=a("../ConstructorModules/textModule.coffee"),d=a("../ConstructorModules/imgModule.coffee"),c=a("../ConstructorModules/containerModule.coffee"),b.exports=e=function(a){var b,d,e,g,h,i,j,k,l,m,n;return console.log(a),n=a.options.width,g=a.options.height,m=90,b=n/g,h=.1,e=1e4,k=new THREE.WebGLRenderer,k.setSize(n,g),d=new THREE.PerspectiveCamera(m,b,h,e),l=new THREE.Scene,d.position.set(0,0,300),j=function(a){var b,d,e,g,h;for("text"===a.options.type?l.add(f(a)):"block"===a.options.type&&l.add(c(a)),g=a.children,h=[],d=0,e=g.length;e>d;d++)b=g[d],h.push(j(b));return h},j(a),console.log(l),i={scene:l,camera:d}}}).call(this)},{"../ConstructorModules/textModule.coffee":2,"../ConstructorModules/imgModule.coffee":5,"../ConstructorModules/containerModule.coffee":1}],7:[function(a){(function(){var b,c,d;b=a("../compiler/dresser.coffee"),c=a("../LayoutModules/layoutModule.coffee"),d=a("../parsers/webglifyPARSER.coffee"),window.WebGlify=function(a){var e,f,g;return g=a.data,f=c(b(d(g))),e=new THREE.WebGLRenderer({antialias:!0,precision:"highp"}),e.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(e.domElement),e.render(f.scene,f.camera)}}).call(this)},{"../compiler/dresser.coffee":3,"../LayoutModules/layoutModule.coffee":6,"../parsers/webglifyPARSER.coffee":4}],8:[function(a,b){(function(){var c,d,e;e=a("htmlparser"),d=function(a,b){var c,d;return d=[],c=function(a,b){var e,f,g,h;for(h=[],f=0,g=b.length;g>f;f++)e=b[f],e.type===a&&d.push(e.data),e.children?h.push(c(a,e.children)):h.push(void 0);return h},c(a,b),d},c=function(){function a(a){this.type=a}return a.prototype.parse=function(a){var b,c;return b=new e.DefaultHandler(function(a,b){return a?console.log("error"):(this.divs=d("div",b),this.text=d("text",b))}),c=new e.Parser(b),c.parseComplete(a),{div:b.divs,text:b.text}},a}(),b.exports=c}).call(this)},{htmlparser:9}],9:[function(a,b,c){!function(d,e){!function(){function f(){return"function"==typeof a&&"object"==typeof c&&"object"==typeof b&&"string"==typeof d&&"string"==typeof e}function g(a,b){this._options=b?b:{},void 0==this._options.includeLocation&&(this._options.includeLocation=!1),this.validateHandler(a),this._handler=a,this.reset()}function h(a){h.super_.call(this,a,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1})}function i(a,b){this.reset(),this._options=b?b:{},void 0==this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),void 0==this._options.verbose&&(this._options.verbose=!0),void 0==this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),"function"==typeof a&&(this._callback=a)}function j(a,b){var c=function(){};c.prototype=b.prototype,a.super_=b,a.prototype=new c,a.prototype.constructor=a}if(!f()){if(this.Tautologistics){if(this.Tautologistics.NodeHtmlParser)return}else this.Tautologistics={};this.Tautologistics.NodeHtmlParser={},c=this.Tautologistics.NodeHtmlParser}var k={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag"};g._reTrim=/(^\s+|\s+$)/g,g._reTrimComment=/(^\!--|--$)/g,g._reWhitespace=/\s/g,g._reTagName=/^\s*(\/?)\s*([^\s\/]+)/,g._reAttrib=/([^=<>\"\'\s]+)\s*=\s*"([^"]*)"|([^=<>\"\'\s]+)\s*=\s*'([^']*)'|([^=<>\"\'\s]+)\s*=\s*([^'"\s]+)|([^=<>\"\'\s\/]+)/g,g._reTags=/[\<\>]/g,g.prototype.parseComplete=function(a){this.reset(),this.parseChunk(a),this.done()},g.prototype.parseChunk=function(a){this._done&&this.handleError(new Error("Attempted to parse chunk after parsing already done")),this._buffer+=a,this.parseTags()},g.prototype.done=function(){if(!this._done){if(this._done=!0,this._buffer.length){var a=this._buffer;this._buffer="";var b={raw:a,data:this._parseState==k.Text?a:a.replace(g._reTrim,""),type:this._parseState};(this._parseState==k.Tag||this._parseState==k.Script||this._parseState==k.Style)&&(b.name=this.parseTagName(b.data)),this.parseAttribs(b),this._elements.push(b)}this.writeHandler(),this._handler.done()}},g.prototype.reset=function(){this._buffer="",this._done=!1,this._elements=[],this._elementsCurrent=0,this._current=0,this._next=0,this._location={row:0,col:0,charOffset:0,inBuffer:0},this._parseState=k.Text,this._prevTagSep="",this._tagStack=[],this._handler.reset()},g.prototype._options=null,g.prototype._handler=null,g.prototype._buffer=null,g.prototype._done=!1,g.prototype._elements=null,g.prototype._elementsCurrent=0,g.prototype._current=0,g.prototype._next=0,g.prototype._location=null,g.prototype._parseState=k.Text,g.prototype._prevTagSep="",g.prototype._tagStack=null,g.prototype.parseTagAttribs=function(a){for(var b=a.length,c=0;b>c;){var d=a[c++];(d.type==k.Tag||d.type==k.Script||d.type==k.style)&&this.parseAttribs(d)}return a},g.prototype.parseAttribs=function(a){if(a.type==k.Script||a.type==k.Style||a.type==k.Tag){var b=a.data.split(g._reWhitespace,1)[0],c=a.data.substring(b.length);if(!(c.length<1)){var d;for(g._reAttrib.lastIndex=0;d=g._reAttrib.exec(c);)void 0==a.attribs&&(a.attribs={}),"string"==typeof d[1]&&d[1].length?a.attribs[d[1]]=d[2]:"string"==typeof d[3]&&d[3].length?a.attribs[d[3].toString()]=d[4].toString():"string"==typeof d[5]&&d[5].length?a.attribs[d[5]]=d[6]:"string"==typeof d[7]&&d[7].length&&(a.attribs[d[7]]=d[7])}}},g.prototype.parseTagName=function(a){if(null==a||""==a)return"";var b=g._reTagName.exec(a);return b?(b[1]?"/":"")+b[2]:""},g.prototype.parseTags=function(){for(var a=this._buffer.length-1;g._reTags.test(this._buffer);){this._next=g._reTags.lastIndex-1;var b=this._buffer.charAt(this._next),c=this._buffer.substring(this._current,this._next),d={raw:c,data:this._parseState==k.Text?c:c.replace(g._reTrim,""),type:this._parseState},e=this.parseTagName(d.data);if(this._tagStack.length)if(this._tagStack[this._tagStack.length-1]==k.Script){if("/script"==e.toLowerCase())this._tagStack.pop();else if(0!=d.raw.indexOf("!--")&&(d.type=k.Text,this._elements.length&&this._elements[this._elements.length-1].type==k.Text)){var f=this._elements[this._elements.length-1];f.raw=f.data=f.raw+this._prevTagSep+d.raw,d.raw=d.data=""}}else if(this._tagStack[this._tagStack.length-1]==k.Style){if("/style"==e.toLowerCase())this._tagStack.pop();else if(0!=d.raw.indexOf("!--"))if(d.type=k.Text,this._elements.length&&this._elements[this._elements.length-1].type==k.Text){var f=this._elements[this._elements.length-1];""!=d.raw?(f.raw=f.data=f.raw+this._prevTagSep+d.raw,d.raw=d.data=""):f.raw=f.data=f.raw+this._prevTagSep}else""!=d.raw&&(d.raw=d.data=d.raw)}else if(this._tagStack[this._tagStack.length-1]==k.Comment){var h=d.raw.length;if("-"==d.raw.charAt(h-2)&&"-"==d.raw.charAt(h-1)&&">"==b)if(this._tagStack.pop(),this._elements.length&&this._elements[this._elements.length-1].type==k.Comment){var f=this._elements[this._elements.length-1];f.raw=f.data=(f.raw+d.raw).replace(g._reTrimComment,""),d.raw=d.data="",d.type=k.Text}else d.type=k.Comment;else if(d.type=k.Comment,this._elements.length&&this._elements[this._elements.length-1].type==k.Comment){var f=this._elements[this._elements.length-1];f.raw=f.data=f.raw+d.raw+b,d.raw=d.data="",d.type=k.Text}else d.raw=d.data=d.raw+b}if(d.type==k.Tag){d.name=e;var i=e.toLowerCase();if(0==d.raw.indexOf("!--")){d.type=k.Comment,delete d.name;var h=d.raw.length;"-"==d.raw.charAt(h-1)&&"-"==d.raw.charAt(h-2)&&">"==b?d.raw=d.data=d.raw.replace(g._reTrimComment,""):(d.raw+=b,this._tagStack.push(k.Comment))}else 0==d.raw.indexOf("!")||0==d.raw.indexOf("?")?d.type=k.Directive:"script"==i?(d.type=k.Script,"/"!=d.data.charAt(d.data.length-1)&&this._tagStack.push(k.Script)):"/script"==i?d.type=k.Script:"style"==i?(d.type=k.Style,"/"!=d.data.charAt(d.data.length-1)&&this._tagStack.push(k.Style)):"/style"==i&&(d.type=k.Style);d.name&&"/"==d.name.charAt(0)&&(d.data=d.name)}(""!=d.raw||d.type!=k.Text)&&(this._options.includeLocation&&!d.location&&(d.location=this.getLocation(d.type==k.Tag)),this.parseAttribs(d),this._elements.push(d),d.type!=k.Text&&d.type!=k.Comment&&d.type!=k.Directive&&"/"==d.data.charAt(d.data.length-1)&&this._elements.push({raw:"/"+d.name,data:"/"+d.name,name:"/"+d.name,type:d.type})),this._parseState="<"==b?k.Tag:k.Text,this._current=this._next+1,this._prevTagSep=b}this._options.includeLocation&&(this.getLocation(),this._location.row+=this._location.inBuffer,this._location.inBuffer=0,this._location.charOffset=0),this._buffer=this._current<=a?this._buffer.substring(this._current):"",this._current=0,this.writeHandler()},g.prototype.getLocation=function(a){for(var b,c=this._location,d=this._current-(a?1:0),e=a&&0==c.charOffset&&0==this._current;c.charOffset<d;c.charOffset++)b=this._buffer.charAt(c.charOffset),"\n"==b?(c.inBuffer++,c.col=0):"\r"!=b&&c.col++;return{line:c.row+c.inBuffer+1,col:c.col+(e?0:1)}},g.prototype.validateHandler=function(a){if("object"!=typeof a)throw new Error("Handler is not an object");if("function"!=typeof a.reset)throw new Error("Handler method 'reset' is invalid");if("function"!=typeof a.done)throw new Error("Handler method 'done' is invalid");if("function"!=typeof a.writeTag)throw new Error("Handler method 'writeTag' is invalid");if("function"!=typeof a.writeText)throw new Error("Handler method 'writeText' is invalid");if("function"!=typeof a.writeComment)throw new Error("Handler method 'writeComment' is invalid");if("function"!=typeof a.writeDirective)throw new Error("Handler method 'writeDirective' is invalid")},g.prototype.writeHandler=function(a){if(a=!!a,!this._tagStack.length||a)for(;this._elements.length;){var b=this._elements.shift();switch(b.type){case k.Comment:this._handler.writeComment(b);break;case k.Directive:this._handler.writeDirective(b);break;case k.Text:this._handler.writeText(b);break;default:this._handler.writeTag(b)}}},g.prototype.handleError=function(a){if("function"!=typeof this._handler.error)throw a;this._handler.error(a)},j(h,i),h.prototype.done=function(){var a,b={},c=l.getElementsByTagName(function(a){return"rss"==a||"feed"==a},this.dom,!1);if(c.length&&(a=c[0]),a){if("rss"==a.name){b.type="rss",a=a.children[0],b.id="";try{b.title=l.getElementsByTagName("title",a.children,!1)[0].children[0].data}catch(d){}try{b.link=l.getElementsByTagName("link",a.children,!1)[0].children[0].data}catch(d){}try{b.description=l.getElementsByTagName("description",a.children,!1)[0].children[0].data}catch(d){}try{b.updated=new Date(l.getElementsByTagName("lastBuildDate",a.children,!1)[0].children[0].data)}catch(d){}try{b.author=l.getElementsByTagName("managingEditor",a.children,!1)[0].children[0].data}catch(d){}b.items=[],l.getElementsByTagName("item",a.children).forEach(function(a){var c={};try{c.id=l.getElementsByTagName("guid",a.children,!1)[0].children[0].data}catch(d){}try{c.title=l.getElementsByTagName("title",a.children,!1)[0].children[0].data}catch(d){}try{c.link=l.getElementsByTagName("link",a.children,!1)[0].children[0].data}catch(d){}try{c.description=l.getElementsByTagName("description",a.children,!1)[0].children[0].data}catch(d){}try{c.pubDate=new Date(l.getElementsByTagName("pubDate",a.children,!1)[0].children[0].data)}catch(d){}b.items.push(c)})}else{b.type="atom";try{b.id=l.getElementsByTagName("id",a.children,!1)[0].children[0].data}catch(d){}try{b.title=l.getElementsByTagName("title",a.children,!1)[0].children[0].data}catch(d){}try{b.link=l.getElementsByTagName("link",a.children,!1)[0].attribs.href}catch(d){}try{b.description=l.getElementsByTagName("subtitle",a.children,!1)[0].children[0].data}catch(d){}try{b.updated=new Date(l.getElementsByTagName("updated",a.children,!1)[0].children[0].data)}catch(d){}try{b.author=l.getElementsByTagName("email",a.children,!0)[0].children[0].data}catch(d){}b.items=[],l.getElementsByTagName("entry",a.children).forEach(function(a){var c={};try{c.id=l.getElementsByTagName("id",a.children,!1)[0].children[0].data}catch(d){}try{c.title=l.getElementsByTagName("title",a.children,!1)[0].children[0].data}catch(d){}try{c.link=l.getElementsByTagName("link",a.children,!1)[0].attribs.href}catch(d){}try{c.description=l.getElementsByTagName("summary",a.children,!1)[0].children[0].data}catch(d){}try{c.pubDate=new Date(l.getElementsByTagName("updated",a.children,!1)[0].children[0].data)}catch(d){}b.items.push(c)})}this.dom=b}h.super_.prototype.done.call(this)},i._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},i.reWhitespace=/^\s*$/,i.prototype.dom=null,i.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._tagStack.last=function(){return this.length?this[this.length-1]:null}},i.prototype.done=function(){this._done=!0,this.handleCallback(null)},i.prototype.writeTag=function(a){this.handleElement(a)},i.prototype.writeText=function(a){this._options.ignoreWhitespace&&i.reWhitespace.test(a.data)||this.handleElement(a)},i.prototype.writeComment=function(a){this.handleElement(a)},i.prototype.writeDirective=function(a){this.handleElement(a)},i.prototype.error=function(a){this.handleCallback(a)},i.prototype._options=null,i.prototype._callback=null,i.prototype._done=!1,i.prototype._tagStack=null,i.prototype.handleCallback=function(a){if("function"==typeof this._callback)this._callback(a,this.dom);else if(a)throw a},i.prototype.isEmptyTag=function(a){var b=a.name.toLowerCase();return"/"==b.charAt(0)&&(b=b.substring(1)),this._options.enforceEmptyTags&&!!i._emptyTags[b]},i.prototype.handleElement=function(a){if(this._done&&this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()")),this._options.verbose||(delete a.raw,("tag"==a.type||"script"==a.type||"style"==a.type)&&delete a.data),this._tagStack.last())if(a.type!=k.Text&&a.type!=k.Comment&&a.type!=k.Directive)if("/"==a.name.charAt(0)){var b=a.name.substring(1);if(!this.isEmptyTag(a)){for(var c=this._tagStack.length-1;c>-1&&this._tagStack[c--].name!=b;);if(c>-1||this._tagStack[0].name==b)for(;c<this._tagStack.length-1;)this._tagStack.pop()}}else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(a),this.isEmptyTag(a)||this._tagStack.push(a);else this._tagStack.last().children||(this._tagStack.last().children=[]),this._tagStack.last().children.push(a);else a.type!=k.Text&&a.type!=k.Comment&&a.type!=k.Directive?"/"!=a.name.charAt(0)&&(this.dom.push(a),this.isEmptyTag(a)||this._tagStack.push(a)):this.dom.push(a)};var l={testElement:function(a,b){if(!b)return!1;for(var c in a)if("tag_name"==c){if("tag"!=b.type&&"script"!=b.type&&"style"!=b.type)return!1;if(!a.tag_name(b.name))return!1}else if("tag_type"==c){if(!a.tag_type(b.type))return!1}else if("tag_contains"==c){if("text"!=b.type&&"comment"!=b.type&&"directive"!=b.type)return!1;if(!a.tag_contains(b.data))return!1}else if(!b.attribs||!a[c](b.attribs[c]))return!1;return!0},getElements:function(a,b,c,d){function e(a){return function(b){return b==a}}if(c=void 0===c||null===c||!!c,d=isNaN(parseInt(d))?-1:parseInt(d),!b)return[];var f,g=[];for(var h in a)"function"!=typeof a[h]&&(a[h]=e(a[h]));if(l.testElement(a,b)&&g.push(b),d>=0&&g.length>=d)return g;if(c&&b.children)f=b.children;else{if(!(b instanceof Array))return g;f=b}for(var i=0;i<f.length&&(g=g.concat(l.getElements(a,f[i],c,d)),!(d>=0&&g.length>=d));i++);return g},getElementById:function(a,b,c){var d=l.getElements({id:a},b,c,1);return d.length?d[0]:null},getElementsByTagName:function(a,b,c,d){return l.getElements({tag_name:a},b,c,d)},getElementsByTagType:function(a,b,c,d){return l.getElements({tag_type:a},b,c,d)}};c.Parser=g,c.DefaultHandler=i,c.RssHandler=h,c.ElementType=k,c.DomUtils=l}()}("/../node_modules/htmlparser/lib/htmlparser.js","/../node_modules/htmlparser/lib")},{}]},{},[1,5,2,6,7,3,8,4]);